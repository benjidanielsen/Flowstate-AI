<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GODMODE AI Dashboard - Enhanced</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #1a1a1a; color: white; }
        .header { text-align: center; margin-bottom: 30px; }
        .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .stat-card { background: #2a2a2a; padding: 20px; border-radius: 10px; text-align: center; }
        .agents { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .agent-card { background: #2a2a2a; padding: 20px; border-radius: 10px; border-left: 4px solid #4080FF; }
        .agent-header { display: flex; align-items: center; margin-bottom: 15px; }
        .agent-icon { font-size: 24px; margin-right: 10px; }
        .progress-bar { background: #444; height: 20px; border-radius: 10px; overflow: hidden; margin: 10px 0; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #4080FF, #57A9FB); transition: width 0.3s; }
        .status { padding: 5px 10px; border-radius: 15px; font-size: 12px; font-weight: bold; }
        .status.active { background: #23C343; }
        .status.inactive { background: #FF4444; }
        .status.initializing { background: #FBE842; color: #000; }
        .timestamp { text-align: center; margin-top: 20px; color: #888; }
    </style>
</head>
<body>
    <div class="header">
        <h1>ðŸš€ GODMODE AI Dashboard - Enhanced</h1>
        <p>Real-time AI Agent Monitoring with Windows Compatibility</p>
    </div>
    
    <div class="stats" id="stats">
        <!-- Stats will be populated by JavaScript -->
    </div>
    
    <div class="agents" id="agents">
        <!-- Agents will be populated by JavaScript -->
    </div>
    
    <div class="timestamp" id="timestamp">
        <!-- Timestamp will be updated by JavaScript -->
    </div>

    <script>
        const socket = io();
        
        socket.on('status_update', function(data) {
            updateDashboard(data);
        });
        
        function updateDashboard(data) {
            // Update stats
            const statsHtml = `
                <div class="stat-card">
                    <h3>Total AIs</h3>
                    <div style="font-size: 24px; color: #4080FF;">${data.system_stats.total_ais}</div>
                </div>
                <div class="stat-card">
                    <h3>Active AIs</h3>
                    <div style="font-size: 24px; color: #23C343;">${data.system_stats.active_ais}</div>
                </div>
                <div class="stat-card">
                    <h3>Completed Tasks</h3>
                    <div style="font-size: 24px; color: #FBE842;">${data.system_stats.completed_tasks}</div>
                </div>
                <div class="stat-card">
                    <h3>System Health</h3>
                    <div style="font-size: 24px; color: ${data.health_status === 'healthy' ? '#23C343' : data.health_status === 'warning' ? '#FBE842' : '#FF4444'};">${data.health_status.toUpperCase()}</div>
                </div>
            `;
            document.getElementById('stats').innerHTML = statsHtml;
            
            // Update agents
            const agentsHtml = data.ai_agents.map(agent => `
                <div class="agent-card">
                    <div class="agent-header">
                        <span class="agent-icon">${agent.icon}</span>
                        <div>
                            <h3 style="margin: 0;">${agent.name}</h3>
                            <span class="status ${agent.status.toLowerCase()}">${agent.status}</span>
                        </div>
                    </div>
                    <div><strong>Current Task:</strong> ${agent.current_task}</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${agent.progress}%;"></div>
                    </div>
                    <div style="font-size: 12px; color: #888;">
                        Progress: ${agent.progress}% | Tasks: ${agent.tasks_completed} | Score: ${agent.performance_score.toFixed(1)}
                    </div>
                </div>
            `).join('');
            document.getElementById('agents').innerHTML = agentsHtml;
            
            // Update timestamp
            document.getElementById('timestamp').innerHTML = `Last updated: ${new Date(data.timestamp).toLocaleString()}`;
        }
        
        // Request initial update
        socket.emit('request_update');
        
        // Auto-refresh every 30 seconds
        setInterval(() => {
            socket.emit('request_update');
        }, 30000);
    </script>
</body>
</html>